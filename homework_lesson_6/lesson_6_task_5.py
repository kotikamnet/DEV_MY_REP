"""
Задание 6. Программа получает на вход строку – сообщение и указание, что нужно сделать: шифровать или дешифровать.
Реализовать две функции: первая шифрует заданное сообщение шифром Цезаря, вторая расшифровывает.
В зависимости от выбора пользователя (шифровать или дешифровать) вызывается соответствующая функция,
результат выводится в консоль.
"""

"""
Шифр Цезаря — это метод шифрования, где каждая буква сообщения сдвигается на фиксированное число позиций в алфавите.
"""

def caesar_encrypt(message, shift):
    encrypted = ""
    for char in message:
        if char.isalpha():  # Проверяем, является ли символ буквой
            is_upper = char.isupper()
            base = ord('A') if is_upper else ord('a')
            # Сдвигаем букву, сохраняя алфавитный порядок
            encrypted += chr((ord(char) - base + shift) % 26 + base)
        else:
            encrypted += char  # Символы, не являющиеся буквами, остаются без изменений
    return encrypted


def caesar_decrypt(message, shift):
    return caesar_encrypt(message, -shift)  # Дешифрование — это сдвиг в обратную сторону


# Основная часть программы
choice = input("Выберите действие (шифровать/дешифровать): ").strip().lower()
text = input("Введите сообщение: ")
shift = int(input("Введите сдвиг: "))

if choice == "шифровать":
    result = caesar_encrypt(text, shift)
    print(f"Зашифрованное сообщение: {result}")
elif choice == "дешифровать":
    result = caesar_decrypt(text, shift)
    print(f"Расшифрованное сообщение: {result}")
else:
    print("Неверный выбор. Пожалуйста, выберите 'шифровать' или 'дешифровать'.")